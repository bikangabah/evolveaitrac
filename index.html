<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CYBERBOT ARENA ‚Äî P2P Agent Battle Network</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap');

  :root {
    --neon-green: #00ff88;
    --neon-cyan: #00e5ff;
    --neon-red: #ff0044;
    --neon-orange: #ff6600;
    --bg-dark: #020a0e;
    --bg-panel: #040f15;
    --grid-color: rgba(0,229,255,0.05);
    --border-glow: rgba(0,229,255,0.3);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg-dark);
    color: var(--neon-cyan);
    font-family: 'Share Tech Mono', monospace;
    min-height: 100vh;
    overflow-x: hidden;
    cursor: crosshair;
  }

  /* Animated grid background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(var(--grid-color) 1px, transparent 1px),
      linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
    animation: gridDrift 20s linear infinite;
  }

  @keyframes gridDrift {
    0% { transform: translateY(0); }
    100% { transform: translateY(40px); }
  }

  /* Scanlines */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.15) 2px,
      rgba(0,0,0,0.15) 4px
    );
    pointer-events: none;
    z-index: 999;
  }

  .container {
    position: relative;
    z-index: 1;
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
  }

  /* HEADER */
  header {
    text-align: center;
    padding: 40px 0 20px;
    position: relative;
  }

  .logo-pre {
    font-family: 'Rajdhani', sans-serif;
    font-size: 12px;
    letter-spacing: 8px;
    color: var(--neon-green);
    text-transform: uppercase;
    opacity: 0.8;
    animation: fadeIn 1s ease forwards;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(28px, 6vw, 72px);
    font-weight: 900;
    letter-spacing: 4px;
    color: #fff;
    text-shadow:
      0 0 20px var(--neon-cyan),
      0 0 60px rgba(0,229,255,0.4),
      0 0 100px rgba(0,229,255,0.2);
    animation: glitch 8s infinite;
    position: relative;
  }

  @keyframes glitch {
    0%, 95%, 100% { text-shadow: 0 0 20px var(--neon-cyan), 0 0 60px rgba(0,229,255,0.4); transform: skewX(0); }
    96% { text-shadow: -3px 0 var(--neon-red), 3px 0 var(--neon-green); transform: skewX(-3deg); }
    97% { text-shadow: 3px 0 var(--neon-red), -3px 0 var(--neon-green); transform: skewX(2deg); }
    98% { text-shadow: 0 0 20px var(--neon-cyan); transform: skewX(0); }
  }

  .subtitle {
    font-family: 'Rajdhani', sans-serif;
    font-size: 14px;
    letter-spacing: 3px;
    color: rgba(0,229,255,0.6);
    margin-top: 8px;
  }

  .status-bar {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin: 20px 0;
    flex-wrap: wrap;
  }

  .status-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
    letter-spacing: 1px;
  }

  .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--neon-green);
    box-shadow: 0 0 8px var(--neon-green);
    animation: pulse 1.5s ease-in-out infinite;
  }

  .dot.red { background: var(--neon-red); box-shadow: 0 0 8px var(--neon-red); }
  .dot.orange { background: var(--neon-orange); box-shadow: 0 0 8px var(--neon-orange); }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.8); }
  }

  /* ARENA GRID */
  .arena-grid {
    display: grid;
    grid-template-columns: 300px 1fr 300px;
    gap: 16px;
    margin: 20px 0;
  }

  @media (max-width: 900px) {
    .arena-grid { grid-template-columns: 1fr; }
  }

  .panel {
    background: var(--bg-panel);
    border: 1px solid var(--border-glow);
    box-shadow: 0 0 20px rgba(0,229,255,0.05), inset 0 0 40px rgba(0,0,0,0.5);
    padding: 16px;
    position: relative;
    overflow: hidden;
  }

  .panel::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
    animation: scanline 3s linear infinite;
  }

  @keyframes scanline {
    0% { opacity: 0; transform: translateX(-100%); }
    50% { opacity: 1; }
    100% { opacity: 0; transform: translateX(100%); }
  }

  .panel-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    letter-spacing: 3px;
    color: var(--neon-cyan);
    opacity: 0.7;
    margin-bottom: 12px;
    text-transform: uppercase;
  }

  /* ROBOT CARDS */
  .robot-card {
    background: rgba(0,229,255,0.03);
    border: 1px solid rgba(0,229,255,0.15);
    padding: 12px;
    margin-bottom: 10px;
    position: relative;
    transition: all 0.3s;
    cursor: pointer;
  }

  .robot-card:hover {
    background: rgba(0,229,255,0.08);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0,229,255,0.2);
    transform: translateX(4px);
  }

  .robot-card.active {
    border-color: var(--neon-green);
    box-shadow: 0 0 20px rgba(0,255,136,0.3);
  }

  .robot-card.battling {
    border-color: var(--neon-red);
    animation: battlePulse 0.5s ease-in-out infinite alternate;
  }

  @keyframes battlePulse {
    from { box-shadow: 0 0 10px rgba(255,0,68,0.3); }
    to { box-shadow: 0 0 30px rgba(255,0,68,0.7); }
  }

  .robot-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }

  .robot-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 13px;
    font-weight: 700;
  }

  .robot-rank {
    font-size: 10px;
    padding: 2px 6px;
    border: 1px solid;
    letter-spacing: 1px;
  }

  .rank-S { color: #ffd700; border-color: #ffd700; }
  .rank-A { color: var(--neon-green); border-color: var(--neon-green); }
  .rank-B { color: var(--neon-cyan); border-color: var(--neon-cyan); }

  .hp-bar-wrap {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 4px 0;
  }

  .hp-label { font-size: 9px; color: rgba(255,255,255,0.5); width: 20px; }

  .hp-bar {
    flex: 1;
    height: 4px;
    background: rgba(255,255,255,0.1);
    position: relative;
    overflow: hidden;
  }

  .hp-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-green), #00ff44);
    transition: width 0.5s ease;
    box-shadow: 0 0 6px var(--neon-green);
  }

  .hp-fill.low { background: linear-gradient(90deg, var(--neon-red), #ff4400); box-shadow: 0 0 6px var(--neon-red); }

  .robot-stats {
    display: flex;
    gap: 12px;
    font-size: 10px;
    color: rgba(0,229,255,0.6);
    margin-top: 6px;
  }

  /* ASCII Robot Display */
  .robot-ascii {
    font-size: 9px;
    line-height: 1.3;
    color: var(--neon-cyan);
    opacity: 0.6;
    text-align: center;
    margin: 8px 0;
    white-space: pre;
    font-family: 'Share Tech Mono', monospace;
  }

  /* BATTLE ARENA CENTER */
  .battle-center {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .battle-stage {
    background: rgba(0,0,0,0.6);
    border: 1px solid rgba(0,229,255,0.2);
    height: 280px;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .battle-stage-bg {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse at 50% 100%, rgba(0,229,255,0.05) 0%, transparent 70%),
      radial-gradient(ellipse at 20% 50%, rgba(0,255,136,0.03) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 50%, rgba(255,0,68,0.03) 0%, transparent 50%);
  }

  .vs-display {
    font-family: 'Orbitron', sans-serif;
    font-size: 60px;
    font-weight: 900;
    color: rgba(255,255,255,0.05);
    letter-spacing: 20px;
    position: absolute;
  }

  .combatant {
    position: absolute;
    text-align: center;
    width: 160px;
  }

  .combatant.left { left: 30px; }
  .combatant.right { right: 30px; }

  .combatant-ascii {
    font-size: 11px;
    line-height: 1.4;
    white-space: pre;
    transition: all 0.3s;
  }

  .combatant.left .combatant-ascii {
    color: var(--neon-green);
    text-shadow: 0 0 10px rgba(0,255,136,0.5);
  }

  .combatant.right .combatant-ascii {
    color: var(--neon-red);
    text-shadow: 0 0 10px rgba(255,0,68,0.5);
  }

  .combatant-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 11px;
    margin-top: 8px;
    letter-spacing: 1px;
  }

  .combatant.left .combatant-name { color: var(--neon-green); }
  .combatant.right .combatant-name { color: var(--neon-red); }

  /* Laser effect */
  .laser {
    position: absolute;
    height: 2px;
    background: linear-gradient(90deg, var(--neon-green), transparent);
    top: 50%;
    left: 160px;
    right: 160px;
    opacity: 0;
    transform: scaleX(0);
    transform-origin: left;
    box-shadow: 0 0 8px var(--neon-green);
  }

  .laser.fire {
    animation: laserShot 0.4s ease-out forwards;
  }

  .laser.reverse {
    background: linear-gradient(270deg, var(--neon-red), transparent);
    transform-origin: right;
  }

  @keyframes laserShot {
    0% { opacity: 1; transform: scaleX(0); }
    50% { opacity: 1; transform: scaleX(1); }
    100% { opacity: 0; transform: scaleX(1); }
  }

  /* explosion */
  .explosion {
    position: absolute;
    font-size: 40px;
    opacity: 0;
    pointer-events: none;
    animation: explode 0.6s ease-out forwards;
  }

  @keyframes explode {
    0% { opacity: 1; transform: scale(0.5); }
    50% { opacity: 1; transform: scale(1.5); }
    100% { opacity: 0; transform: scale(2); }
  }

  /* BATTLE LOG */
  .battle-log {
    background: rgba(0,0,0,0.8);
    border: 1px solid rgba(0,229,255,0.15);
    padding: 12px;
    height: 160px;
    overflow-y: auto;
    font-size: 11px;
    line-height: 1.8;
    scrollbar-width: thin;
    scrollbar-color: var(--neon-cyan) transparent;
  }

  .log-entry {
    opacity: 0;
    animation: logAppear 0.3s ease forwards;
    padding: 2px 0;
    border-bottom: 1px solid rgba(0,229,255,0.05);
  }

  @keyframes logAppear {
    from { opacity: 0; transform: translateX(-10px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .log-time { color: rgba(0,229,255,0.4); margin-right: 8px; }
  .log-green { color: var(--neon-green); }
  .log-red { color: var(--neon-red); }
  .log-cyan { color: var(--neon-cyan); }
  .log-orange { color: var(--neon-orange); }
  .log-white { color: rgba(255,255,255,0.9); }

  /* CONTROLS */
  .controls {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }

  .btn {
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    letter-spacing: 2px;
    padding: 10px 20px;
    border: 1px solid;
    background: transparent;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
  }

  .btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: currentColor;
    opacity: 0;
    transition: opacity 0.2s;
  }

  .btn:hover::before { opacity: 0.1; }

  .btn:active { transform: scale(0.97); }

  .btn-primary {
    color: var(--neon-green);
    border-color: var(--neon-green);
    box-shadow: 0 0 10px rgba(0,255,136,0.2);
  }

  .btn-primary:hover {
    box-shadow: 0 0 20px rgba(0,255,136,0.5);
    color: #fff;
  }

  .btn-danger {
    color: var(--neon-red);
    border-color: var(--neon-red);
  }

  .btn-danger:hover { box-shadow: 0 0 20px rgba(255,0,68,0.5); }

  .btn-secondary {
    color: var(--neon-cyan);
    border-color: rgba(0,229,255,0.4);
    font-size: 9px;
  }

  .btn:disabled { opacity: 0.3; cursor: not-allowed; }

  /* NETWORK STATS */
  .net-stat {
    display: flex;
    justify-content: space-between;
    padding: 6px 0;
    border-bottom: 1px solid rgba(0,229,255,0.08);
    font-size: 11px;
  }

  .net-stat-label { color: rgba(255,255,255,0.4); }
  .net-stat-value { color: var(--neon-cyan); font-weight: bold; }
  .net-stat-value.green { color: var(--neon-green); }
  .net-stat-value.red { color: var(--neon-red); }

  /* INTERCOM CONFIG */
  .config-row {
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
    align-items: center;
  }

  .config-label {
    font-size: 9px;
    color: rgba(0,229,255,0.5);
    width: 80px;
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .config-input {
    flex: 1;
    background: rgba(0,229,255,0.05);
    border: 1px solid rgba(0,229,255,0.2);
    color: var(--neon-cyan);
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    padding: 5px 8px;
    outline: none;
    transition: border-color 0.2s;
  }

  .config-input:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0,229,255,0.2);
  }

  .config-input::placeholder { color: rgba(0,229,255,0.2); }

  /* TRAC address */
  .trac-address {
    background: rgba(0,255,136,0.05);
    border: 1px solid rgba(0,255,136,0.3);
    padding: 10px;
    margin-top: 12px;
    word-break: break-all;
  }

  .trac-label {
    font-size: 9px;
    color: var(--neon-green);
    letter-spacing: 2px;
    margin-bottom: 4px;
    opacity: 0.7;
  }

  .trac-value {
    font-size: 10px;
    color: var(--neon-green);
    font-weight: bold;
  }

  /* P2P MESSAGES */
  .message-feed {
    max-height: 150px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--neon-cyan) transparent;
  }

  .msg {
    font-size: 10px;
    padding: 4px 0;
    border-bottom: 1px solid rgba(0,229,255,0.06);
    display: flex;
    gap: 6px;
  }

  .msg-peer { color: var(--neon-orange); min-width: 60px; }
  .msg-content { color: rgba(255,255,255,0.7); }

  /* Winner banner */
  .winner-banner {
    display: none;
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 10;
  }

  .winner-banner.show { display: flex; }

  .winner-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 40px;
    font-weight: 900;
    text-shadow: 0 0 30px currentColor;
    animation: winnerPulse 1s ease-in-out infinite alternate;
  }

  @keyframes winnerPulse {
    from { transform: scale(1); }
    to { transform: scale(1.05); }
  }

  .winner-sub {
    font-size: 14px;
    letter-spacing: 4px;
    margin-top: 10px;
    opacity: 0.7;
  }

  /* Ticker */
  .ticker {
    background: rgba(0,0,0,0.6);
    border-top: 1px solid rgba(0,229,255,0.15);
    border-bottom: 1px solid rgba(0,229,255,0.15);
    padding: 8px 0;
    overflow: hidden;
    margin: 16px 0;
    white-space: nowrap;
  }

  .ticker-inner {
    display: inline-block;
    animation: ticker 30s linear infinite;
    font-size: 11px;
    color: rgba(0,229,255,0.5);
    letter-spacing: 1px;
  }

  @keyframes ticker {
    from { transform: translateX(100vw); }
    to { transform: translateX(-100%); }
  }

  /* Footer */
  footer {
    text-align: center;
    padding: 30px 0 20px;
    font-size: 10px;
    color: rgba(0,229,255,0.3);
    letter-spacing: 2px;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 0.8; }
  }

  /* Corner decorations */
  .corner-deco {
    position: absolute;
    width: 16px;
    height: 16px;
    border-color: var(--neon-cyan);
    border-style: solid;
    opacity: 0.5;
  }

  .corner-deco.tl { top: 4px; left: 4px; border-width: 1px 0 0 1px; }
  .corner-deco.tr { top: 4px; right: 4px; border-width: 1px 1px 0 0; }
  .corner-deco.bl { bottom: 4px; left: 4px; border-width: 0 0 1px 1px; }
  .corner-deco.br { bottom: 4px; right: 4px; border-width: 0 1px 1px 0; }
</style>
</head>
<body>

<div class="container">
  <header>
    <div class="logo-pre">‚ñ∏ INTERCOM P2P NETWORK ‚ñ∏ TRAC SYSTEMS ‚ñ∏</div>
    <h1>CYBERBOT ARENA</h1>
    <div class="subtitle">P2P AUTONOMOUS AGENT BATTLE PROTOCOL // BUILT ON INTERCOM</div>

    <div class="status-bar">
      <div class="status-item">
        <div class="dot"></div>
        <span>INTERCOM: CONNECTED</span>
      </div>
      <div class="status-item">
        <div class="dot orange"></div>
        <span>PEERS: <span id="peer-count">7</span></span>
      </div>
      <div class="status-item">
        <div class="dot"></div>
        <span>SIDECHAIN: ACTIVE</span>
      </div>
      <div class="status-item">
        <div class="dot red"></div>
        <span>BATTLES LIVE: <span id="live-count">3</span></span>
      </div>
    </div>
  </header>

  <div class="ticker">
    <span class="ticker-inner">
      ‚ö° [ARENA-7] NEXUS-9 defeats PHANTOM-X in 4 rounds &nbsp;|&nbsp;
      ü§ñ New bot VOID-REAPER joined the network &nbsp;|&nbsp;
      üíÄ [ARENA-3] STEEL-MANTIS eliminated &nbsp;|&nbsp;
      üèÜ Daily champion: OMEGA-STRIKER ‚Äî 12 wins &nbsp;|&nbsp;
      üì° Intercom sidechannel latency: 14ms &nbsp;|&nbsp;
      ‚ö° [ARENA-2] RFQ negotiated: 400 TNK battle stake &nbsp;|&nbsp;
      üîó Trac replicated state synced across 7 nodes &nbsp;|&nbsp;
      ü§ñ GHOST-PROTOCOL upgraded to Rank S &nbsp;|&nbsp;
    </span>
  </div>

  <div class="arena-grid">

    <!-- LEFT PANEL: My Robot -->
    <div class="panel">
      <div class="corner-deco tl"></div>
      <div class="corner-deco tr"></div>
      <div class="corner-deco bl"></div>
      <div class="corner-deco br"></div>
      <div class="panel-title">‚óà MY AGENT FLEET</div>

      <div class="robot-card active" onclick="selectBot(this, 'NEXUS-9', 90, 87)">
        <div class="robot-header">
          <span class="robot-name" style="color:var(--neon-green)">NEXUS-9</span>
          <span class="robot-rank rank-S">S</span>
        </div>
        <div class="robot-ascii">  [=^=]
 /|‚ñà|‚ñà|\
  | | |
 /  |  \</div>
        <div class="hp-bar-wrap">
          <span class="hp-label">HP</span>
          <div class="hp-bar"><div class="hp-fill" style="width:90%"></div></div>
          <span style="font-size:9px">90</span>
        </div>
        <div class="hp-bar-wrap">
          <span class="hp-label">EN</span>
          <div class="hp-bar"><div class="hp-fill" style="width:87%;background:linear-gradient(90deg,var(--neon-cyan),#0088ff);box-shadow:0 0 6px var(--neon-cyan)"></div></div>
          <span style="font-size:9px">87</span>
        </div>
        <div class="robot-stats">
          <span>ATK:92</span>
          <span>DEF:78</span>
          <span>SPD:88</span>
        </div>
      </div>

      <div class="robot-card" onclick="selectBot(this, 'STEEL-MANTIS', 65, 55)">
        <div class="robot-header">
          <span class="robot-name" style="color:var(--neon-cyan)">STEEL-MANTIS</span>
          <span class="robot-rank rank-A">A</span>
        </div>
        <div class="robot-ascii">  /\_/\
 (o o)
  >‚ñà<
 /| |\</div>
        <div class="hp-bar-wrap">
          <span class="hp-label">HP</span>
          <div class="hp-bar"><div class="hp-fill low" style="width:65%"></div></div>
          <span style="font-size:9px">65</span>
        </div>
        <div class="hp-bar-wrap">
          <span class="hp-label">EN</span>
          <div class="hp-bar"><div class="hp-fill" style="width:55%;background:linear-gradient(90deg,var(--neon-cyan),#0088ff);box-shadow:0 0 6px var(--neon-cyan)"></div></div>
          <span style="font-size:9px">55</span>
        </div>
        <div class="robot-stats">
          <span>ATK:88</span>
          <span>DEF:65</span>
          <span>SPD:95</span>
        </div>
      </div>

      <div class="robot-card" onclick="selectBot(this, 'VOID-REAPER', 100, 100)">
        <div class="robot-header">
          <span class="robot-name" style="color:var(--neon-orange)">VOID-REAPER</span>
          <span class="robot-rank rank-B">B</span>
        </div>
        <div class="robot-ascii">  |‚ñì|
 /‚ñà‚ñà‚ñà\
 |‚ñà|‚ñà|
  / \</div>
        <div class="hp-bar-wrap">
          <span class="hp-label">HP</span>
          <div class="hp-bar"><div class="hp-fill" style="width:100%"></div></div>
          <span style="font-size:9px">100</span>
        </div>
        <div class="hp-bar-wrap">
          <span class="hp-label">EN</span>
          <div class="hp-bar"><div class="hp-fill" style="width:100%;background:linear-gradient(90deg,var(--neon-cyan),#0088ff);box-shadow:0 0 6px var(--neon-cyan)"></div></div>
          <span style="font-size:9px">100</span>
        </div>
        <div class="robot-stats">
          <span>ATK:75</span>
          <span>DEF:90</span>
          <span>SPD:70</span>
        </div>
      </div>

      <div class="trac-address">
        <div class="trac-label">‚ñ∏ TRAC REWARD ADDRESS</div>
        <div class="trac-value" id="trac-addr">YOUR_TRAC_ADDRESS_HERE</div>
      </div>
    </div>

    <!-- CENTER: Battle Arena -->
    <div class="battle-center">
      <div class="panel battle-stage">
        <div class="battle-stage-bg"></div>
        <div class="vs-display">VS</div>

        <div class="combatant left" id="bot-left">
          <div class="combatant-ascii" id="ascii-left">  [=^=]
 /|‚ñà|‚ñà|\
  | | |
 /  |  \</div>
          <div class="combatant-name" id="name-left">NEXUS-9</div>
        </div>

        <div class="combatant right" id="bot-right">
          <div class="combatant-ascii" id="ascii-right"> |‚ñì‚ñì‚ñì|
(X)-(X)
 /|‚ñì|\ 
  | | </div>
          <div class="combatant-name" id="name-right">PHANTOM-X</div>
        </div>

        <div class="laser" id="laser-left"></div>
        <div class="laser reverse" id="laser-right"></div>

        <div class="winner-banner" id="winner-banner">
          <div class="winner-text" id="winner-text" style="color:var(--neon-green)">NEXUS-9</div>
          <div class="winner-sub">‚ñ∏ BATTLE COMPLETE ‚ñ∏ VICTORY</div>
        </div>
      </div>

      <!-- Battle controls -->
      <div class="panel" style="padding:12px">
        <div class="corner-deco tl"></div>
        <div class="corner-deco tr"></div>
        <div class="panel-title">‚óà BATTLE CONTROL</div>
        <div class="controls" style="margin-bottom:10px">
          <button class="btn btn-primary" id="btn-fight" onclick="startBattle()">‚ö° INITIATE BATTLE</button>
          <button class="btn btn-secondary" id="btn-reset" onclick="resetBattle()">‚Ü∫ RESET</button>
          <button class="btn btn-danger" id="btn-nuke" onclick="nukeStrike()">‚ò¢ NUKE STRIKE</button>
        </div>
        <div style="display:flex;gap:16px;font-size:10px;color:rgba(0,229,255,0.5)">
          <div>ROUND: <span id="round-num" style="color:var(--neon-cyan);font-weight:bold">-</span></div>
          <div>STAKE: <span style="color:var(--neon-orange)">500 TNK</span></div>
          <div>MODE: <span style="color:var(--neon-green)">P2P AUTO</span></div>
        </div>
      </div>

      <!-- Battle log -->
      <div class="panel">
        <div class="corner-deco tl"></div>
        <div class="corner-deco tr"></div>
        <div class="panel-title">‚óà BATTLE LOG ‚Äî INTERCOM SIDECHANNEL</div>
        <div class="battle-log" id="battle-log">
          <div class="log-entry">
            <span class="log-time">[00:00]</span>
            <span class="log-cyan">‚ñ∏ CyberBot Arena initialized on Intercom P2P network</span>
          </div>
          <div class="log-entry">
            <span class="log-time">[00:01]</span>
            <span class="log-green">‚ñ∏ Agent NEXUS-9 connected via sidechannel 0x4f2a</span>
          </div>
          <div class="log-entry">
            <span class="log-time">[00:01]</span>
            <span class="log-orange">‚ñ∏ Awaiting opponent agent RFQ negotiation...</span>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT PANEL: Network & Config -->
    <div>
      <!-- Network stats -->
      <div class="panel" style="margin-bottom:16px">
        <div class="corner-deco tl"></div>
        <div class="corner-deco tr"></div>
        <div class="corner-deco bl"></div>
        <div class="corner-deco br"></div>
        <div class="panel-title">‚óà NETWORK STATS</div>
        <div class="net-stat">
          <span class="net-stat-label">PROTOCOL</span>
          <span class="net-stat-value">INTERCOM v2</span>
        </div>
        <div class="net-stat">
          <span class="net-stat-label">LATENCY</span>
          <span class="net-stat-value green" id="latency">14ms</span>
        </div>
        <div class="net-stat">
          <span class="net-stat-label">PEERS</span>
          <span class="net-stat-value" id="peers-stat">7</span>
        </div>
        <div class="net-stat">
          <span class="net-stat-label">TOTAL BATTLES</span>
          <span class="net-stat-value" id="total-battles">1,337</span>
        </div>
        <div class="net-stat">
          <span class="net-stat-label">MY WINS</span>
          <span class="net-stat-value green" id="my-wins">8</span>
        </div>
        <div class="net-stat">
          <span class="net-stat-label">MY LOSSES</span>
          <span class="net-stat-value red" id="my-losses">3</span>
        </div>
        <div class="net-stat">
          <span class="net-stat-label">TNK EARNED</span>
          <span class="net-stat-value green">4,000 TNK</span>
        </div>
        <div class="net-stat" style="border:none">
          <span class="net-stat-label">STATE SYNC</span>
          <span class="net-stat-value green">‚úì SYNCED</span>
        </div>
      </div>

      <!-- Intercom Config -->
      <div class="panel" style="margin-bottom:16px">
        <div class="corner-deco tl"></div>
        <div class="corner-deco tr"></div>
        <div class="corner-deco bl"></div>
        <div class="corner-deco br"></div>
        <div class="panel-title">‚óà INTERCOM CONFIG</div>
        <div class="config-row">
          <span class="config-label">NODE URL</span>
          <input class="config-input" value="wss://trac.network/p2p" placeholder="node url"/>
        </div>
        <div class="config-row">
          <span class="config-label">CHANNEL</span>
          <input class="config-input" value="cyberbot-arena-v1" placeholder="channel"/>
        </div>
        <div class="config-row">
          <span class="config-label">AGENT ID</span>
          <input class="config-input" value="agent-0x4f2a8b" placeholder="agent id"/>
        </div>
        <div style="margin-top:10px">
          <button class="btn btn-secondary" style="width:100%;font-size:9px">‚óà RECONNECT INTERCOM</button>
        </div>
      </div>

      <!-- Live P2P Messages -->
      <div class="panel">
        <div class="corner-deco tl"></div>
        <div class="corner-deco tr"></div>
        <div class="corner-deco bl"></div>
        <div class="corner-deco br"></div>
        <div class="panel-title">‚óà P2P SIDECHANNEL FEED</div>
        <div class="message-feed" id="p2p-feed">
          <div class="msg">
            <span class="msg-peer">NEXUS-9</span>
            <span class="msg-content">RFQ: 500 TNK stake? Accept?</span>
          </div>
          <div class="msg">
            <span class="msg-peer">PHANTOM-X</span>
            <span class="msg-content">ACK. Stake accepted. Ready.</span>
          </div>
          <div class="msg">
            <span class="msg-peer">ARENA-7</span>
            <span class="msg-content">Battle confirmed on Trac chain</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    CYBERBOT ARENA ‚Äî BUILT ON INTERCOM P2P AGENT NETWORK ‚Äî TRAC SYSTEMS<br>
    <span style="color:rgba(0,255,136,0.4)">FORK: github.com/Trac-Systems/intercom</span>
  </footer>
</div>

<script>
// State
let battleRunning = false;
let round = 0;
let leftHP = 90, rightHP = 100;
let leftEN = 87, rightEN = 100;
let selectedBot = { name: 'NEXUS-9', hp: 90, en: 87 };
let battleInterval = null;

const bots = [
  { name: 'PHANTOM-X', ascii: ' |‚ñì‚ñì‚ñì|\n(X)-(X)\n /|‚ñì|\\ \n  | | ', rank: 'S' },
  { name: 'OMEGA-9', ascii: '  /‚ñà\\\n (o_o)\n  |‚ñà|\n /| |\\ ', rank: 'A' },
  { name: 'GHOST-PROTOCOL', ascii: ' .~~~.\n(‚óâ ‚óâ)\n  |‚ñà|\n  | |', rank: 'S' },
];

const moves = [
  ['PLASMA CANNON', 'NANO-BLADE STRIKE', 'QUANTUM BURST', 'EMP PULSE', 'LASER SWEEP'],
  ['SHIELD MATRIX', 'COUNTER HACK', 'TESLA COIL', 'GRAVITY MINE', 'VIRAL INJECTION']
];

const p2pMessages = [
  'Initiating RFQ handshake...',
  'Sidechannel 0x4f2a latency: 12ms',
  'State committed to Trac replicated layer',
  'ACK: battle params agreed',
  'Nonce synced across peers',
  'Move broadcast to 7 peers',
  'Trac state hash confirmed',
  'HTLC-style stake locked',
];

function log(msg, cls) {
  const logEl = document.getElementById('battle-log');
  const now = new Date();
  const ts = `${String(now.getMinutes()).padStart(2,'0')}:${String(now.getSeconds()).padStart(2,'0')}`;
  const entry = document.createElement('div');
  entry.className = 'log-entry';
  entry.innerHTML = `<span class="log-time">[${ts}]</span> <span class="${cls}">‚ñ∏ ${msg}</span>`;
  logEl.appendChild(entry);
  logEl.scrollTop = logEl.scrollHeight;
}

function p2pMsg(peer, msg) {
  const feed = document.getElementById('p2p-feed');
  const el = document.createElement('div');
  el.className = 'msg';
  el.innerHTML = `<span class="msg-peer">${peer}</span><span class="msg-content">${msg}</span>`;
  feed.appendChild(el);
  feed.scrollTop = feed.scrollHeight;
}

function selectBot(card, name, hp, en) {
  document.querySelectorAll('.robot-card').forEach(c => c.classList.remove('active'));
  card.classList.add('active');
  selectedBot = { name, hp, en };
  leftHP = hp; leftEN = en;
  document.getElementById('name-left').textContent = name;
  const ascii = card.querySelector('.robot-ascii').textContent;
  document.getElementById('ascii-left').textContent = ascii;
  log(`Agent ${name} selected for battle`, 'log-green');
}

function fireLaser(side) {
  const el = document.getElementById(side === 'left' ? 'laser-left' : 'laser-right');
  el.classList.remove('fire');
  void el.offsetWidth;
  el.classList.add('fire');
}

function updateHPBars() {
  // Not dynamically updating DOM HP bars in demo; battle simulated via log
}

function doRound() {
  if (leftHP <= 0 || rightHP <= 0) {
    endBattle();
    return;
  }

  round++;
  document.getElementById('round-num').textContent = round;

  const atkL = moves[0][Math.floor(Math.random() * moves[0].length)];
  const atkR = moves[1][Math.floor(Math.random() * moves[1].length)];
  const dmgL = Math.floor(Math.random() * 20) + 10;
  const dmgR = Math.floor(Math.random() * 15) + 8;

  rightHP = Math.max(0, rightHP - dmgL);
  leftHP = Math.max(0, leftHP - dmgR);

  fireLaser('left');
  setTimeout(() => fireLaser('right'), 250);

  log(`${selectedBot.name} uses ${atkL} ‚Äî ${dmgL} damage!`, 'log-green');
  setTimeout(() => {
    log(`${document.getElementById('name-right').textContent} uses ${atkR} ‚Äî ${dmgR} damage!`, 'log-red');
    p2pMsg(selectedBot.name, `move: ${atkL} (dmg:${dmgL})`);
    // Update network stats
    document.getElementById('latency').textContent = `${Math.floor(Math.random()*10)+10}ms`;
    document.getElementById('total-battles').textContent = (1337 + round).toLocaleString();
  }, 300);

  if (leftHP <= 0 || rightHP <= 0) {
    setTimeout(endBattle, 600);
  }
}

function startBattle() {
  if (battleRunning) return;
  battleRunning = true;
  round = 0;
  leftHP = selectedBot.hp;
  rightHP = 100;

  // Pick random opponent
  const opp = bots[Math.floor(Math.random() * bots.length)];
  document.getElementById('name-right').textContent = opp.name;
  document.getElementById('ascii-right').textContent = opp.ascii;

  document.getElementById('btn-fight').disabled = true;
  document.getElementById('winner-banner').classList.remove('show');

  log(`‚ñ∂ BATTLE START: ${selectedBot.name} vs ${opp.name}`, 'log-orange');
  log(`Intercom sidechannel negotiation complete`, 'log-cyan');
  p2pMsg('ARENA', `Battle started: ${selectedBot.name} vs ${opp.name}`);

  document.querySelectorAll('.combatant .combatant-ascii').forEach(el => {
    el.style.animation = 'none';
  });

  battleInterval = setInterval(doRound, 1200);
}

function endBattle() {
  clearInterval(battleInterval);
  battleRunning = false;

  const winner = leftHP > 0 ? selectedBot.name : document.getElementById('name-right').textContent;
  const winnerEl = document.getElementById('winner-text');
  winnerEl.textContent = winner;

  if (leftHP > 0) {
    winnerEl.style.color = 'var(--neon-green)';
    document.getElementById('my-wins').textContent = parseInt(document.getElementById('my-wins').textContent) + 1;
    log(`üèÜ VICTORY! ${winner} wins the battle!`, 'log-green');
    p2pMsg('ARENA', `Winner: ${winner} ‚Äî 500 TNK stake transferred`);
  } else {
    winnerEl.style.color = 'var(--neon-red)';
    document.getElementById('my-losses').textContent = parseInt(document.getElementById('my-losses').textContent) + 1;
    log(`üíÄ DEFEAT. ${winner} wins the battle.`, 'log-red');
  }

  document.getElementById('winner-banner').classList.add('show');
  document.getElementById('btn-fight').disabled = false;

  // Auto-hide after 3s
  setTimeout(() => {
    document.getElementById('winner-banner').classList.remove('show');
  }, 3000);
}

function resetBattle() {
  clearInterval(battleInterval);
  battleRunning = false;
  round = 0;
  leftHP = selectedBot.hp;
  rightHP = 100;
  document.getElementById('round-num').textContent = '-';
  document.getElementById('winner-banner').classList.remove('show');
  document.getElementById('btn-fight').disabled = false;
  log('System reset ‚Äî ready for new battle', 'log-cyan');
}

function nukeStrike() {
  if (!battleRunning) {
    log('ERROR: No active battle for nuke strike', 'log-red');
    return;
  }
  rightHP = 0;
  log(`‚ò¢ NUKE STRIKE ACTIVATED ‚Äî MASSIVE DAMAGE!`, 'log-red');
  p2pMsg(selectedBot.name, 'NUKE DEPLOYED ‚ò¢');
  clearInterval(battleInterval);
  battleRunning = false;
  setTimeout(endBattle, 400);
}

// Simulate live network activity
setInterval(() => {
  document.getElementById('peer-count').textContent = Math.floor(Math.random() * 5) + 5;
  document.getElementById('live-count').textContent = Math.floor(Math.random() * 4) + 2;
  if (!battleRunning && Math.random() > 0.7) {
    const msgs = p2pMessages;
    const peers = ['NEXUS-9', 'ARENA-3', 'NODE-7', 'RELAY-X', 'PEER-12'];
    p2pMsg(peers[Math.floor(Math.random() * peers.length)], msgs[Math.floor(Math.random() * msgs.length)]);
  }
}, 4000);
</script>
</body>
</html>
